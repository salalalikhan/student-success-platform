import{jwtDecode as e}from"jwt-decode";var t={accessKey:{exchange:"/v1/auth/accesskey/exchange"},otp:{verify:"/v1/auth/otp/verify",signIn:"/v1/auth/otp/signin",signUp:"/v1/auth/otp/signup",update:{email:"/v1/auth/otp/update/email",phone:"/v1/auth/otp/update/phone"},signUpOrIn:"/v1/auth/otp/signup-in"},magicLink:{verify:"/v1/auth/magiclink/verify",signIn:"/v1/auth/magiclink/signin",signUp:"/v1/auth/magiclink/signup",update:{email:"/v1/auth/magiclink/update/email",phone:"/v1/auth/magiclink/update/phone"},signUpOrIn:"/v1/auth/magiclink/signup-in"},enchantedLink:{verify:"/v1/auth/enchantedlink/verify",signIn:"/v1/auth/enchantedlink/signin",signUp:"/v1/auth/enchantedlink/signup",session:"/v1/auth/enchantedlink/pending-session",update:{email:"/v1/auth/enchantedlink/update/email"},signUpOrIn:"/v1/auth/enchantedlink/signup-in"},oauth:{start:"/v1/auth/oauth/authorize",exchange:"/v1/auth/oauth/exchange",startNative:"v1/auth/oauth/native/start",finishNative:"v1/auth/oauth/native/finish",oneTap:{getOneTapClientId:"/v1/auth/onetap/clientid/{provider}",exchangeOneTapIDToken:"/v1/auth/onetap/idtoken/exchange",verifyOneTapIDToken:"/v1/auth/onetap/idtoken/verify"}},outbound:{connect:"/v1/outbound/oauth/connect"},saml:{start:"/v1/auth/saml/authorize",exchange:"/v1/auth/saml/exchange"},totp:{verify:"/v1/auth/totp/verify",signUp:"/v1/auth/totp/signup",update:"/v1/auth/totp/update"},notp:{signIn:"/v1/auth/notp/whatsapp/signin",signUp:"/v1/auth/notp/whatsapp/signup",signUpOrIn:"/v1/auth/notp/whatsapp/signup-in",session:"/v1/auth/notp/pending-session"},webauthn:{signUp:{start:"/v1/auth/webauthn/signup/start",finish:"/v1/auth/webauthn/signup/finish"},signIn:{start:"/v1/auth/webauthn/signin/start",finish:"/v1/auth/webauthn/signin/finish"},signUpOrIn:{start:"/v1/auth/webauthn/signup-in/start"},update:{start:"v1/auth/webauthn/update/start",finish:"/v1/auth/webauthn/update/finish"}},password:{signUp:"/v1/auth/password/signup",signIn:"/v1/auth/password/signin",sendReset:"/v1/auth/password/reset",update:"/v1/auth/password/update",replace:"/v1/auth/password/replace",policy:"/v1/auth/password/policy"},refresh:"/v1/auth/refresh",selectTenant:"/v1/auth/tenant/select",logout:"/v1/auth/logout",logoutAll:"/v1/auth/logoutall",me:"/v1/auth/me",myTenants:"/v1/auth/me/tenants",history:"/v1/auth/me/history",flow:{start:"/v1/flow/start",next:"/v1/flow/next"}};const n="<region>",o=`https://api.${n}descope.com`,s=1e3,i=6e5,a="dct",r=()=>{const e={};return{headers(t){const n="function"==typeof t.entries?Object.fromEntries(t.entries()):t;return e.Headers=JSON.stringify(n),this},body(t){return e.Body=t,this},url(t){return e.Url=t.toString(),this},method(t){return e.Method=t,this},title(t){return e.Title=t,this},status(t){return e.Status=t,this},build:()=>Object.keys(e).flatMap((t=>e[t]?[`${"Title"!==t?`${t}: `:""}${e[t]}`]:[])).join("\n")}},p=(e,t)=>{const n=(e=>async(...t)=>{const n=await e(...t),o=await n.text();return n.text=()=>Promise.resolve(o),n.json=()=>Promise.resolve(JSON.parse(o)),n.clone=()=>n,n})(t||fetch);return n||null==e||e.warn("Fetch is not defined, you will not be able to send http requests, if you are running in a test, make sure fetch is defined globally"),e?async(...t)=>{if(!n)throw Error("Cannot send http request, fetch is not defined, if you are running in a test, make sure fetch is defined globally");e.log((e=>r().title("Request").url(e[0]).method(e[1].method).headers(e[1].headers).body(e[1].body).build())(t));const o=await n(...t);return e[o.ok?"log":"error"](await(async e=>{const t=await e.text();return r().title("Response").url(e.url.toString()).status(`${e.status} ${e.statusText}`).headers(e.headers).body(t).build()})(o)),o}:n};let d;const l=()=>{if(d)return d;const e=new Date,t=`${e.getUTCFullYear().toString()}-${(e.getUTCMonth()+1).toString().padStart(2,"0")}-${e.getUTCDate().toString().padStart(2,"0")}-${e.getUTCHours().toString().padStart(2,"0")}:${e.getUTCMinutes().toString().padStart(2,"0")}:${e.getUTCSeconds().toString().padStart(2,"0")}:${e.getUTCMilliseconds().toString()}`,n=Math.floor(1e3+9e3*Math.random());return d=`${t}-${n}`,d};var u;!function(e){e.get="GET",e.delete="DELETE",e.post="POST",e.put="PUT",e.patch="PATCH"}(u||(u={}));const c=({path:e,baseUrl:t,queryParams:o,projectId:s})=>{const i=s.slice(1,-27);t=t.replace(n,i?i+".":"");let a=e?`${t.replace(/\/$/,"")}/${null==e?void 0:e.replace(/^\//,"")}`:t;if(o){const e=Object.keys(o);e.forEach(((t,n)=>{a=`${a}${0===n?"?":""}${t}=${encodeURIComponent(o[t])}${n===e.length-1?"":"&"}`}))}return a},g=(...e)=>new Headers(e.reduce(((e,t)=>{const n=(e=>Array.isArray(e)?e:e instanceof Headers?Array.from(e.entries()):e?Object.entries(e):[])(t);return n.reduce(((t,[n,o])=>(e[n]=o,e)),e),e}),{})),h={"Content-Type":"application/json"},v=(e,t="")=>{let n=e;return t&&(n=n+":"+t),{Authorization:`Bearer ${n}`}},m=(e,t)=>{const n={"x-descope-sdk-session-id":l(),"x-descope-sdk-name":"core-js","x-descope-sdk-version":"2.44.3","x-descope-project-id":e};return t&&(n["x-descope-refresh-cookie-name"]=t),n},f=e=>{try{e=JSON.parse(e)}catch(e){return!1}return"object"==typeof e&&null!==e},k=({baseUrl:e,projectId:t,baseConfig:n,refreshCookieName:o,logger:s,hooks:i,cookiePolicy:a,fetch:r})=>{const d=p(s,r),l=async s=>{var r;const p=(null==i?void 0:i.beforeRequest)?i.beforeRequest(s):s,{path:l,body:u,headers:k,queryParams:I,method:b,token:y}=p,O=(e=>void 0===e?void 0:JSON.stringify(e))(u),w={headers:g(v(t,y),m(t,o),(null==n?void 0:n.baseHeaders)||{},f(O)?h:{},k),method:b,body:O};null!==a&&(w.credentials=a||"include");const j=await d(c({path:l,baseUrl:e,queryParams:I,projectId:t}),w);if((null==i?void 0:i.afterRequest)&&await i.afterRequest(s,null==j?void 0:j.clone()),null==i?void 0:i.transformResponse){const e=await j.json(),t=((null===(r=j.headers)||void 0===r?void 0:r.get("set-cookie"))||"").split(";").reduce(((e,t)=>{const[n,o]=t.split("=");return Object.assign(Object.assign({},e),{[n.trim()]:o})}),{}),n=Object.assign(Object.assign({},j),{json:()=>Promise.resolve(e),cookies:t});return n.clone=()=>n,i.transformResponse(n)}return j};return{get:(e,{headers:t,queryParams:n,token:o}={})=>l({path:e,headers:t,queryParams:n,body:void 0,method:u.get,token:o}),post:(e,t,{headers:n,queryParams:o,token:s}={})=>l({path:e,headers:n,queryParams:o,body:t,method:u.post,token:s}),patch:(e,t,{headers:n,queryParams:o,token:s}={})=>l({path:e,headers:n,queryParams:o,body:t,method:u.patch,token:s}),put:(e,t,{headers:n,queryParams:o,token:s}={})=>l({path:e,headers:n,queryParams:o,body:t,method:u.put,token:s}),delete:(e,{headers:t,queryParams:n,token:o}={})=>l({path:e,headers:t,queryParams:n,body:void 0,method:u.delete,token:o}),hooks:i,buildUrl:(n,o)=>c({projectId:t,baseUrl:e,path:n,queryParams:o})}};var I={TOO_MANY_REQUESTS:429};function b(e,t,n){var o;let s=y(e);if(t){if(!(null==s?void 0:s.tenants)&&(null==s?void 0:s[a])===t)return(null==s?void 0:s[n])||[];s=null===(o=null==s?void 0:s.tenants)||void 0===o?void 0:o[t]}const i=null==s?void 0:s[n];return Array.isArray(i)?i:[]}function y(t){if("string"!=typeof t||!t)throw new Error("Invalid token provided");return e(t)}function O(e){const{exp:t}=y(e);return(new Date).getTime()/1e3>t}function w(e){let t=y(e);const n=Object.keys(null==t?void 0:t.tenants);return Array.isArray(n)?n:[]}function j(e,t){return b(e,t,"permissions")}function U(e,t){return b(e,t,"roles")}const T=(...e)=>e.join("/").replace(/\/{2,}/g,"/");async function x(e,t){var n;const o=await e,s={code:o.status,ok:o.ok,response:o},i=await o.clone().json();return o.ok?s.data=t?t(i):i:(s.error=i,o.status===I.TOO_MANY_REQUESTS&&Object.assign(s.error,{retryAfter:Number.parseInt(null===(n=o.headers)||void 0===n?void 0:n.get("retry-after"))||0})),s}function P(e){var t;return(null===(t=y(e))||void 0===t?void 0:t[a])||""}const R=(e,t)=>(n=t)=>t=>!e(t)&&n.replace("{val}",t),$=(e,t)=>(n=t)=>t=>{const o=e.filter((e=>e(t)));return!(o.length<e.length)&&(n?n.replace("{val}",t):o.join(" OR "))},S=(...e)=>({validate:t=>(e.forEach((e=>{const n=e(t);if(n)throw new Error(n)})),!0)}),q=e=>t=>e.test(t),C=q(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/),A=q(/^\+[1-9]{1}[0-9]{3,14}$/),M=(e,t)=>n=>S(...t).validate(((e,t,n)=>{const o=(Array.isArray(t)?t.join("."):String(t)).replace(/\[\\?("|')?(\w|d)+\\?("|')?\]/g,((e,t,n)=>"."+n)).split("."),s=o.length;let i=0,a=e===Object(e)?e:void 0;for(;null!=a&&i<s;)a=a[o[i++]];return i&&i===s&&void 0!==a?a:n})(n,e)),E=R(C,'"{val}" is not a valid email'),L=R(A,'"{val}" is not a valid phone number'),N=R((D=1,e=>e.length>=D),"Minimum length is 1");var D;const H=R((e=>"string"==typeof e),"Input is not a string"),J=R((e=>Array.isArray(e)),"Input is not an array"),z=R((e=>"boolean"==typeof e),"Input is not a boolean"),_=R((e=>void 0===e),"Input is defined"),F=$([H(),_()],"Input is not a string or undefined"),K=$([J(),z()],"Input is not an array or boolean"),V=(...e)=>t=>(...n)=>(e.forEach(((e,t)=>S(...e).validate(n[t]))),t(...n)),Y=e=>[H(`"${e}" must be a string`)],Z=e=>[F(`"${e}" must be string or undefined`)],B=e=>[H(`"${e}" must be a string`),N(`"${e}" must not be empty`)],Q=e=>[H(`"${e}" must be a string`),E()],G=e=>[H(`"${e}" must be a string`),L()],W=V(B("accessKey")),X=e=>({exchange:W(((n,o)=>x(e.post(t.accessKey.exchange,{loginOptions:o},{token:n}))))}),ee=(e,t,n)=>(t.forEach((t=>{const o=t.split(".");let s=o.shift(),i=e;for(;o.length>0;){if(i=i[s],!s||!i)throw Error(`Invalid path "${t}", "${s}" is missing or has no value`);s=o.shift()}if("function"!=typeof i[s])throw Error(`"${t}" is not a function`);const a=i[s];i[s]=n(a)})),e),te=({pollingIntervalMs:e=1e3,timeoutMs:t=6e5}={})=>({pollingIntervalMs:Math.max(e||s,s),timeoutMs:Math.min(t||i,i)});var ne,oe;!function(e){e.sms="sms",e.voice="voice",e.whatsapp="whatsapp"}(ne||(ne={})),function(e){e.email="email"}(oe||(oe={}));const se=Object.assign(Object.assign({},ne),oe);var ie;!function(e){e.waiting="waiting",e.running="running",e.completed="completed",e.failed="failed"}(ie||(ie={}));const ae=B("loginId"),re=V(B("token")),pe=V(ae),de=V(B("pendingRef")),le=V(ae,Q("email")),ue=e=>({verify:re((n=>x(e.post(t.enchantedLink.verify,{token:n})))),signIn:pe(((n,o,s,i)=>x(e.post(T(t.enchantedLink.signIn,se.email),{loginId:n,URI:o,loginOptions:s},{token:i})))),signUpOrIn:pe(((n,o,s)=>x(e.post(T(t.enchantedLink.signUpOrIn,se.email),{loginId:n,URI:o,loginOptions:s})))),signUp:pe(((n,o,s,i)=>x(e.post(T(t.enchantedLink.signUp,se.email),{loginId:n,URI:o,user:s,loginOptions:i})))),waitForSession:de(((n,o)=>new Promise((s=>{const{pollingIntervalMs:i,timeoutMs:a}=te(o);let r;const p=setInterval((async()=>{const o=await e.post(t.enchantedLink.session,{pendingRef:n});o.ok&&(clearInterval(p),r&&clearTimeout(r),s(x(Promise.resolve(o))))}),i);r=setTimeout((()=>{s({error:{errorDescription:`Session polling timeout exceeded: ${a}ms`,errorCode:"0"},ok:!1}),clearInterval(p)}),a)})))),update:{email:le(((n,o,s,i,a)=>x(e.post(t.enchantedLink.update.email,Object.assign({loginId:n,email:o,URI:s},a),{token:i}))))}}),ce=V(B("flowId")),ge=V(B("executionId"),B("stepId"),B("interactionId")),he=e=>({start:ce(((n,o,s,i,a,r,p)=>x(e.post(t.flow.start,{flowId:n,options:o,conditionInteractionId:s,interactionId:i,componentsVersion:a,flowVersions:r,input:p})))),next:ge(((n,o,s,i,a,r)=>x(e.post(t.flow.next,{executionId:n,stepId:o,interactionId:s,version:i,componentsVersion:a,input:r}))))}),ve=B("loginId"),me=V(B("token")),fe=V(ve),ke=V(ve,G("phone")),Ie=V(ve,Q("email")),be=Object.keys(se).filter((e=>e!==ne.voice)),ye=e=>({verify:me((n=>x(e.post(t.magicLink.verify,{token:n})))),signIn:be.reduce(((n,o)=>Object.assign(Object.assign({},n),{[o]:fe(((n,s,i,a)=>x(e.post(T(t.magicLink.signIn,o),{loginId:n,URI:s,loginOptions:i},{token:a}))))})),{}),signUp:be.reduce(((n,o)=>Object.assign(Object.assign({},n),{[o]:fe(((n,s,i,a)=>x(e.post(T(t.magicLink.signUp,o),{loginId:n,URI:s,user:i,loginOptions:a}))))})),{}),signUpOrIn:be.reduce(((n,o)=>Object.assign(Object.assign({},n),{[o]:fe(((n,s,i)=>x(e.post(T(t.magicLink.signUpOrIn,o),{loginId:n,URI:s,loginOptions:i}))))})),{}),update:{email:Ie(((n,o,s,i,a)=>x(e.post(t.magicLink.update.email,Object.assign({loginId:n,email:o,URI:s},a),{token:i})))),phone:Object.keys(ne).filter((e=>e!==ne.voice)).reduce(((n,o)=>Object.assign(Object.assign({},n),{[o]:ke(((n,s,i,a,r)=>x(e.post(T(t.magicLink.update.phone,o),Object.assign({loginId:n,phone:s,URI:i},r),{token:a}))))})),{})}});var Oe;!function(e){e.facebook="facebook",e.github="github",e.google="google",e.microsoft="microsoft",e.gitlab="gitlab",e.apple="apple",e.discord="discord",e.linkedin="linkedin",e.slack="slack"}(Oe||(Oe={}));const we=V(B("code")),je=e=>({start:Object.assign(((n,o,s,i,a)=>x(e.post(t.oauth.start,s||{},{queryParams:Object.assign(Object.assign({provider:n},o&&{redirectURL:o}),a&&{loginHint:a}),token:i}))),Object.keys(Oe).reduce(((n,o)=>Object.assign(Object.assign({},n),{[o]:(n,s,i,a)=>x(e.post(t.oauth.start,s||{},{queryParams:Object.assign(Object.assign({provider:o},n&&{redirectURL:n}),a&&{loginHint:a}),token:i}))})),{})),exchange:we((n=>x(e.post(t.oauth.exchange,{code:n})))),startNative:(n,o,s)=>x(e.post(t.oauth.startNative,{provider:n,loginOptions:o,implicit:s})),finishNative:(n,o,s,i,a)=>x(e.post(t.oauth.finishNative,{provider:n,stateId:o,user:s,code:i,idToken:a})),getOneTapClientId:n=>x(e.get(t.oauth.oneTap.getOneTapClientId.replace("{provider}",n))),verifyOneTapIDToken:(n,o,s,i)=>x(e.post(t.oauth.oneTap.verifyOneTapIDToken,{provider:n,idToken:o,nonce:s,loginOptions:i})),exchangeOneTapIDToken:(n,o,s,i)=>x(e.post(t.oauth.oneTap.exchangeOneTapIDToken,{provider:n,idToken:o,nonce:s,loginOptions:i}))}),Ue=B("appId"),Te=V(Ue),xe=e=>({connect:Te(((n,o,s)=>x(e.post(t.outbound.connect,{appId:n,options:o},{token:s}))))}),Pe=B("loginId"),Re=V(Pe,B("code")),$e=V(Pe),Se=V(Pe,G("phone")),qe=V(Pe,Q("email")),Ce=e=>({verify:Object.keys(se).reduce(((n,o)=>Object.assign(Object.assign({},n),{[o]:Re(((n,s)=>x(e.post(T(t.otp.verify,o),{code:s,loginId:n}))))})),{}),signIn:Object.keys(se).reduce(((n,o)=>Object.assign(Object.assign({},n),{[o]:$e(((n,s,i)=>x(e.post(T(t.otp.signIn,o),{loginId:n,loginOptions:s},{token:i}))))})),{}),signUp:Object.keys(se).reduce(((n,o)=>Object.assign(Object.assign({},n),{[o]:$e(((n,s,i)=>x(e.post(T(t.otp.signUp,o),{loginId:n,user:s,loginOptions:i}))))})),{}),signUpOrIn:Object.keys(se).reduce(((n,o)=>Object.assign(Object.assign({},n),{[o]:$e(((n,s)=>x(e.post(T(t.otp.signUpOrIn,o),{loginId:n,loginOptions:s}))))})),{}),update:{email:qe(((n,o,s,i)=>x(e.post(t.otp.update.email,Object.assign({loginId:n,email:o},i),{token:s})))),phone:Object.keys(ne).reduce(((n,o)=>Object.assign(Object.assign({},n),{[o]:Se(((n,s,i,a)=>x(e.post(T(t.otp.update.phone,o),Object.assign({loginId:n,phone:s},a),{token:i}))))})),{})}}),Ae=V(B("tenant")),Me=V(B("code")),Ee=e=>({start:Ae(((n,o,s,i,a)=>x(e.post(t.saml.start,s||{},Object.assign({queryParams:Object.assign(Object.assign({tenant:n},o&&{redirectURL:o}),a&&{ssoId:a})},i&&{token:i}))))),exchange:Me((n=>x(e.post(t.saml.exchange,{code:n}))))}),Le=B("loginId"),Ne=V(Le,B("code")),De=V(Le),He=V(Le),Je=e=>({signUp:De(((n,o)=>x(e.post(t.totp.signUp,{loginId:n,user:o})))),verify:Ne(((n,o,s,i)=>x(e.post(t.totp.verify,{loginId:n,code:o,loginOptions:s},{token:i})))),update:He(((n,o)=>x(e.post(t.totp.update,{loginId:n},{token:o}))))}),ze=B("loginId"),_e=B("newPassword"),Fe=V(ze,B("password")),Ke=V(ze),Ve=V(ze,_e),Ye=V(ze,B("oldPassword"),_e),Ze=e=>({signUp:Fe(((n,o,s,i)=>x(e.post(t.password.signUp,{loginId:n,password:o,user:s,loginOptions:i})))),signIn:Fe(((n,o,s)=>x(e.post(t.password.signIn,{loginId:n,password:o,loginOptions:s})))),sendReset:Ke(((n,o,s)=>x(e.post(t.password.sendReset,{loginId:n,redirectUrl:o,templateOptions:s})))),update:Ve(((n,o,s)=>x(e.post(t.password.update,{loginId:n,newPassword:o},{token:s})))),replace:Ye(((n,o,s)=>x(e.post(t.password.replace,{loginId:n,oldPassword:o,newPassword:s})))),policy:()=>x(e.get(t.password.policy))}),Be=Y("loginId"),Qe=B("loginId"),Ge=B("origin"),We=V(Qe,Ge,B("name")),Xe=V(Qe,Ge),et=V(Be,Ge),tt=V(Qe,Ge,Z("token")),nt=V(B("transactionId"),B("response")),ot=e=>({signUp:{start:We(((n,o,s,i)=>x(e.post(t.webauthn.signUp.start,{user:{loginId:n,name:s},origin:o,passkeyOptions:i})))),finish:nt(((n,o)=>x(e.post(t.webauthn.signUp.finish,{transactionId:n,response:o}))))},signIn:{start:et(((n,o,s,i,a)=>x(e.post(t.webauthn.signIn.start,{loginId:n,origin:o,loginOptions:s,passkeyOptions:a},{token:i})))),finish:nt(((n,o)=>x(e.post(t.webauthn.signIn.finish,{transactionId:n,response:o}))))},signUpOrIn:{start:Xe(((n,o,s)=>x(e.post(t.webauthn.signUpOrIn.start,{loginId:n,origin:o,passkeyOptions:s}))))},update:{start:tt(((n,o,s,i)=>x(e.post(t.webauthn.update.start,{loginId:n,origin:o,passkeyOptions:i},{token:s})))),finish:nt(((n,o)=>x(e.post(t.webauthn.update.finish,{transactionId:n,response:o}))))}}),st=Y("loginId"),it=V(st),at=V(B("pendingRef")),rt=e=>({signUpOrIn:it(((n,o)=>x(e.post(t.notp.signUpOrIn,{loginId:n,loginOptions:o})))),signUp:it(((n,o,s)=>x(e.post(t.notp.signUp,{loginId:n,user:o,loginOptions:s})))),signIn:it(((n,o,s)=>x(e.post(t.notp.signIn,{loginId:n,loginOptions:o},{token:s})))),waitForSession:at(((n,o)=>new Promise((s=>{const{pollingIntervalMs:i,timeoutMs:a}=te(o);let r;const p=setInterval((async()=>{const o=await e.post(t.notp.session,{pendingRef:n});o.ok&&(clearInterval(p),r&&clearTimeout(r),s(x(Promise.resolve(o))))}),i);r=setTimeout((()=>{s({error:{errorDescription:`Session polling timeout exceeded: ${a}ms`,errorCode:"0"},ok:!1}),clearInterval(p)}),a)}))))}),pt=V(B("token")),dt=V(Z("token"));var lt,ut;var ct=V([(lt="projectId",ut=B("projectId"),R(M(lt,ut))())])((e=>t=>{var n;return e(Object.assign(Object.assign({},t),{hooks:{beforeRequest:e=>{var n;const o=[].concat((null===(n=t.hooks)||void 0===n?void 0:n.beforeRequest)||[]);return null==o?void 0:o.reduce(((e,t)=>t(e)),e)},afterRequest:async(e,n)=>{var o;const s=[].concat((null===(o=t.hooks)||void 0===o?void 0:o.afterRequest)||[]);if(0==s.length)return;(await Promise.allSettled(null==s?void 0:s.map((t=>t(e,null==n?void 0:n.clone()))))).forEach((e=>{var n;return"rejected"===e.status&&(null===(n=t.logger)||void 0===n?void 0:n.error(e.reason))}))},transformResponse:null===(n=t.hooks)||void 0===n?void 0:n.transformResponse}}))})((({projectId:e,logger:n,baseUrl:s,hooks:i,cookiePolicy:a,baseHeaders:r={},refreshCookieName:p,fetch:d})=>{return l=k({baseUrl:s||o,projectId:e,logger:n,hooks:i,cookiePolicy:a,baseConfig:{baseHeaders:r},refreshCookieName:p,fetch:d}),{accessKey:X(l),otp:Ce(l),magicLink:ye(l),enchantedLink:ue(l),oauth:je(l),outbound:xe(l),saml:Ee(l),totp:Je(l),notp:rt(l),webauthn:ot(l),password:Ze(l),flow:he(l),refresh:dt(((e,n,o)=>{const s={};return o&&(s.externalToken=o),x(l.post(t.refresh,s,{token:e,queryParams:n}))})),selectTenant:V([H("tenantId")],[F('"token" must be string or undefined')])(((e,n)=>x(l.post(t.selectTenant,{tenant:e},{token:n})))),logout:dt((e=>x(l.post(t.logout,{},{token:e})))),logoutAll:dt((e=>x(l.post(t.logoutAll,{},{token:e})))),me:dt((e=>x(l.get(t.me,{token:e})))),myTenants:V([K('"tenants" must a string array or a boolean')],[F('"token" must be string or undefined')])(((e,n)=>{const o={};return"boolean"==typeof e?o.dct=e:o.ids=e,x(l.post(t.myTenants,o,{token:n}))})),history:dt((e=>x(l.get(t.history,{token:e})))),isJwtExpired:pt(O),getTenants:pt(w),getJwtPermissions:pt(j),getJwtRoles:pt(U),getCurrentTenant:pt(P),httpClient:l};var l}))),gt=Object.assign(ct,{DeliveryMethods:se});export{I as HttpStatusCodes,gt as default,te as normalizeWaitForSessionConfig,x as transformResponse,ee as wrapWith};
//# sourceMappingURL=index.esm.js.map
